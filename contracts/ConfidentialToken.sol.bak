// SPDX-License-Identifier: MIT
pragma solidity ^0.8.24;

import "fhevm/lib/TFHE.sol";
import "fhevm/token/ERC20/extensions/ERC20Encrypted.sol";

/**
 * @title ConfidentialToken
 * @dev This contract uses Inco's FHEVM (Fully Homomorphic Encryption) to 
 * provide truly private balances and transfers on-chain.
 */
contract ConfidentialToken is ERC20Encrypted {
    
    constructor(
        string memory name, 
        string memory symbol
    ) ERC20Encrypted(name, symbol) {
        // Initial mint to the deployer is often handled here
        // or left for a specific minting function.
    }

    /**
     * @dev Mint new confidential tokens.
     */
    function mint(uint32 amount) public {
        _mint(msg.sender, amount);
    }

    /**
     * @dev Example of a conditional "Private Strategy" enabled by Inco.
     * Only transfers if the caller's encrypted balance is above a threshold.
     */
    function secureTransfer(address to, ebureau amount, ebool condition) public {
        // Advanced FHE logic can be added here
        _transfer(msg.sender, to, amount);
    }
}
